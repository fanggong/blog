---
title: "用R绘制流程图"
author: "Fang Yongchao"
date: '2021-03-10'
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<link href="/rmarkdown-libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="/rmarkdown-libs/anchor-sections/anchor-sections.js"></script>


<p>相关包：<a href="https://mirrors.tuna.tsinghua.edu.cn/CRAN/web/packages/diagram/index.html">diagram</a></p>
<p>原理相当简单，创建一个空的画板，规划坐标，然后在上面插入BOX和ARROR即可。由于是在base R的体系中进行作图，所以有很高的自由度。</p>
<div id="创建空画板" class="section level1">
<h1>创建空画板</h1>
<p>该函数中有一个<code>asp</code>参数TODO</p>
<pre class="r"><code>openplotmat()</code></pre>
</div>
<div id="规划坐标" class="section level1">
<h1>规划坐标</h1>
<pre class="r"><code>elpos &lt;- coordinates(pos = c(1, 2, 3, 4), hor = FALSE)</code></pre>
<p>上面的代码将画板划分成了如下形式</p>
<p><img src="public/posts/20210310_diagram_files/figure-html/unnamed-chunk-3-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="插入box" class="section level1">
<h1>插入BOX</h1>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/CRAN/web/packages/diagram/index.html">diagram</a>包共提供了九种BOX</p>
<pre class="r"><code>par(mar = c(0, 0, 0, 0))
openplotmat(asp = 1)
box()
elpos &lt;- coordinates(pos = rep(3, 6), hor = FALSE)
textdiamond(elpos[3, ], radx = 0.1, rady = 0.1, lab = &quot;临&quot;, cex = 2)
text(elpos[6, 1], elpos[6, 2], labels = &quot;textdiamond&quot;)
textellipse(elpos[9, ], radx = 0.1, lab = &quot;兵&quot;, cex = 2)
text(elpos[12, 1], elpos[12, 2], labels = &quot;textellipse&quot;)
textempty(elpos[15, ], lab = &quot;斗&quot;, box.col = &quot;grey&quot;, cex = 2)
text(elpos[18, 1], elpos[18, 2], labels = &quot;textempty&quot;)
texthexa(elpos[2, ], radx = 0.1, lab = &quot;者&quot;, cex = 2)
text(elpos[5, 1], elpos[5, 2], labels = &quot;texthexa&quot;)
textmulti(elpos[8, ], radx = 0.1, lab = &quot;皆&quot;, cex = 2)
text(elpos[11, 1], elpos[11, 2], labels = &quot;textmulti&quot;)
textparallel(elpos[14, ], radx = 0.1, lab = &quot;阵&quot;, cex = 2)
text(elpos[17, 1], elpos[17, 2], labels = &quot;textparallel&quot;)
textplain(elpos[1, ], lab = &quot;列&quot;, cex = 2)
text(elpos[4, 1], elpos[4, 2], labels = &quot;textplain&quot;)
textrect(elpos[7, ], radx = 0.1, lab = &quot;在&quot;, cex = 2)
text(elpos[10, 1], elpos[10, 2], labels = &quot;textrect&quot;)
textround(elpos[13, ], radx = 0.05, rady = 0.1, rx = 0.1, lab = &quot;前&quot;, cex = 2)
text(elpos[16, 1], elpos[16, 2], labels = &quot;textround&quot;)</code></pre>
<p><img src="public/posts/20210310_diagram_files/figure-html/unnamed-chunk-4-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="插入line" class="section level1">
<h1>插入LINE</h1>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/CRAN/web/packages/diagram/index.html">diagram</a>包共提供了七种ARROR</p>
<pre class="r"><code>par(mar = c(0, 0, 0, 0))
openplotmat(asp = 1)
box()</code></pre>
<p><img src="public/posts/20210310_diagram_files/figure-html/unnamed-chunk-5-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
